<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Run Prepost bounds — prepost_bounds • prepost</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Run Prepost bounds — prepost_bounds"><meta name="description" content="Run Prepost bounds"><meta property="og:description" content="Run Prepost bounds"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">prepost</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/prepost.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mattblackwell/prepost/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Run Prepost bounds</h1>
      <small class="dont-index">Source: <a href="https://github.com/mattblackwell/prepost/blob/main/R/prepost_bounds.R" class="external-link"><code>R/prepost_bounds.R</code></a></small>
      <div class="d-none name"><code>prepost_bounds.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Run Prepost bounds</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">prepost_bounds</span><span class="op">(</span></span>
<span>  <span class="va">formula</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">moderator</span>,</span>
<span>  <span class="va">prepost</span>,</span>
<span>  sims <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  conf_level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  moderator_mono <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outcome_mono <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stable_mod <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  tau <span class="op">=</span> <span class="fl">0.25</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  solver <span class="op">=</span> <span class="st">"Rglpk"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>A formula with syntax <code>y ~ t</code>, where <code>y</code> is the
(unquoted) name of the outcome and <code>t</code> is the (unquoted) name of the treatment.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data.frame containing variables in the formula, moderator, and covariates arguments.</p></dd>


<dt id="arg-moderator">moderator<a class="anchor" aria-label="anchor" href="#arg-moderator"></a></dt>
<dd><p>A one-sided formuala with syntax <code>~ d</code>, where <code>d</code>
is the (unquoted) name of the  moderator variable for the CATE.</p></dd>


<dt id="arg-prepost">prepost<a class="anchor" aria-label="anchor" href="#arg-prepost"></a></dt>
<dd><p>A one-sided formula with syntax ~ z, where z is the indicator
variable for whether the moderator was measured pre- or post-treatment.</p></dd>


<dt id="arg-sims">sims<a class="anchor" aria-label="anchor" href="#arg-sims"></a></dt>
<dd><p>An integer specifying the number of bootstrap replications for
the confidence intervals.</p></dd>


<dt id="arg-conf-level">conf_level<a class="anchor" aria-label="anchor" href="#arg-conf-level"></a></dt>
<dd><p>A numeric specifying level for the confidence intervals.</p></dd>


<dt id="arg-moderator-mono">moderator_mono<a class="anchor" aria-label="anchor" href="#arg-moderator-mono"></a></dt>
<dd><p>A integer or vector of length 2 indicating
if the bounds should assume monotonicity of the effect of the
post-test on the moderator with <code>1</code> indicating that the post-test
effect is positive and <code>-1</code> indicating that it is negative. The
vector of length 2 allows the monotonicity assumption to vary by
treatment status with the first entry being for control and the
second for treated.</p></dd>


<dt id="arg-outcome-mono">outcome_mono<a class="anchor" aria-label="anchor" href="#arg-outcome-mono"></a></dt>
<dd><p>A integer or vector of length 2 indicating if the bounds
should assume monotonicity of the effect of the post-test on the outcome
with <code>1</code> indicating that the post-test effect is positive and <code>-1</code>
indicating that it is negative. The vector of length 2 allows the
monotonicity assumption to vary by treatment status with the first entry
being for control and the second for treated.</p></dd>


<dt id="arg-stable-mod">stable_mod<a class="anchor" aria-label="anchor" href="#arg-stable-mod"></a></dt>
<dd><p>A logical value indicating if the bounds should
assume that the moderator is unaffected by pre-vs-post measurement
under the control condition.</p></dd>


<dt id="arg-tau">tau<a class="anchor" aria-label="anchor" href="#arg-tau"></a></dt>
<dd><p>A numeric indicating how close the the moment conditions of the
estimated bounds have to be from the minimum values in the sample. This
allows us to obtain bounds and confidence intevals even when the
assumptions are slightly violated due to sampling.</p></dd>


<dt id="arg-progress">progress<a class="anchor" aria-label="anchor" href="#arg-progress"></a></dt>
<dd><p>A logical indicating if progress bars should be
displayed. Defaults to TRUE.</p></dd>


<dt id="arg-solver">solver<a class="anchor" aria-label="anchor" href="#arg-solver"></a></dt>
<dd><p>A character indicating what linear programming solver to use:
"Rglpk" (the default) or "lpSolve".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list object containing bounds.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">land_experiment</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">prepost_bounds</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">support</span> <span class="op">~</span> <span class="va">treat_comb</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">land_experiment</span>,</span></span>
<span class="r-in"><span>  moderator <span class="op">=</span> <span class="op">~</span> <span class="va">land_insecure</span>,</span></span>
<span class="r-in"><span>  prepost <span class="op">=</span> <span class="op">~</span> <span class="va">prepost</span>,</span></span>
<span class="r-in"><span>  sims <span class="op">=</span> <span class="fl">50</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bootstrap running...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0% |==                  | 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0% |====                | 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0% |======              | 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0% |========            | 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0% |==========          | 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0% |============        | 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0% |==============      | 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0% |================    | 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0% |==================  | 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0% |====================| 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Q</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.07446809</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.078787</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $lower</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -1.082133</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $solution_L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000 0.777777778</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] 0.000000000 0.222222222 0.400000000 0.000000000 0.249769585 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] 0.000000000 0.000000000 0.350230415 0.000000000 0.121011494 0.008643678</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [19] 0.000000000 0.000000000 0.630260870 0.118344828 0.121739130 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] 0.000000000 0.052280311 0.000000000 0.000000000 0.672234686 0.156840934</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [31] 0.118644068 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37] 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [43] 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [49] 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [55] 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [61] 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [67] 0.000000000 0.000000000 0.805531915 0.925531915 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [73] 0.751272364 0.672234686 0.000000000 0.000000000 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [79] 0.222222222 0.400000000 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $solution_U</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 0.777777778 0.000000000 0.222222222 0.000000000 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] 0.000000000 0.400000000 0.000000000 0.600000000 0.040551724 0.008643678</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [19] 0.000000000 0.000000000 0.630260870 0.198804598 0.121739130 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] 0.052280311 0.052280311 0.000000000 0.000000000 0.700414145 0.076381164</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [31] 0.118644068 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37] 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [43] 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [49] 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [55] 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [61] 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [67] 0.000000000 0.000000000 0.954468085 0.828757721 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [73] 0.670812594 0.752694456 0.000000000 0.000000000 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [79] 0.777777778 0.600000000 0.000000000 0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $deviation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ci_lower</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -1.20426</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ci_upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.187109</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $pre_est</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3808728</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $post_est</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.48171</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthew Blackwell, Jacob Brown, Sophie Hill, Kosuke Imai, Teppei Yamamoto.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

